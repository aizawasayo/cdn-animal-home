(self.webpackChunkanimal_home_beta=self.webpackChunkanimal_home_beta||[]).push([[4535,3968],{81150:function(e){e.exports=Object.is||function(e,r){return e===r?0!==e||1/e==1/r:e!=e&&r!=r}},43304:function(e,r,t){t(82109)({target:"Object",stat:!0},{is:t(81150)})},46298:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v}});var o=t(21914),n=t(14367),a={name:"Login",data:function(){return{loginForm:{username:"aizawasayo",password:"iwnini122900"},valid:!1,loginRules:{username:[function(e){return!!e||"用户名必填！"}],psw:[function(e){return!!e||"密码必填！"},function(e){return e.length>=6||"密码不能少于6位"}]},pswShow:!1,breadNav:[{text:"首页",disabled:!1,href:"/"},{text:"登录",disabled:!0,href:"/login/"}],redirect:void 0,snackbar:!1}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{login:function(){var e=this;this.$refs.loginForm.validate()?(this.valid=!0,this.$store.dispatch("user/login",this.loginForm).then((function(){$Vue.$dialogLoader.showSnackbar("登录成功！",{color:"success"}),e.redirect?e.$router.push({path:e.redirect}):e.$router.go(-1)})).catch((function(){$Vue.$dialogLoader.showSnackbar("登录失败，请输入正确的用户名和密码！",{color:"error"})}))):(this.valid=!1,$Vue.$dialogLoader.showSnackbar("请输入正确的用户名和密码！",{color:"error"}))},register:function(){this.$router.push("/user/register")}}},i=t(1001),s=t(43453),l=t.n(s),c=t(63150),u=t(82102),d=t(99846),m=t(46232),f=t(62877),h=t(40314),p=(0,i.Z)(a,(function(){var e=this,r=this,t=r.$createElement,a=r._self._c||t;return a("v-container",{staticClass:"bgWht",attrs:{"elevation-4":""}},[a(n.default,{attrs:{"bread-nav":r.breadNav}}),a(o.default,{attrs:{title:"请登录","has-tip":!1}}),a("v-form",{ref:"loginForm",staticClass:"login-form",attrs:{"lazy-validation":""},model:{value:r.valid,callback:function(e){r.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{counter:20,rules:r.loginRules.username,label:"用户名",placeholder:"请输入用户名","prepend-inner-icon":"mdi-account-circle",required:""},model:{value:r.loginForm.username,callback:function(e){r.$set(r.loginForm,"username",e)},expression:"loginForm.username"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:r.loginRules.psw,label:"密码",placeholder:"请输入密码",type:r.pswShow?"text":"password","prepend-inner-icon":"mdi-lock","append-icon":r.pswShow?"mdi-eye":"mdi-eye-off",required:""},on:{"click:append":function(e){r.pswShow=!r.pswShow}},model:{value:r.loginForm.password,callback:function(e){r.$set(r.loginForm,"password",e)},expression:"loginForm.password"}})],1)],1),a("div",{staticClass:"d-flex justify-lg-space-between mt-4"},[a("v-btn",{staticClass:"mr-4",attrs:{disabled:!r.valid,color:"primary",large:""},on:{click:r.login}},[r._v(" 登录 ")]),a("v-btn",{staticClass:"mr-4",attrs:{color:"secondary",large:""},on:{click:function(){return r.commonApi.resetForm(e)}}},[r._v(" 重置 ")]),a("v-btn",{attrs:{color:"success",large:""},on:{click:r.register}},[r._v(" 注册 ")])],1)],1)],1)}),[],!1,null,"345f2566",null),v=p.exports;l()(p,{VBtn:c.Z,VCol:u.Z,VContainer:d.Z,VForm:m.Z,VRow:f.Z,VTextField:h.Z})}}]);