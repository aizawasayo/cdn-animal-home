(self.webpackChunkanimal_home_beta=self.webpackChunkanimal_home_beta||[]).push([[3064],{52420:function(t,e,i){i(82109)({target:"Math",stat:!0},{sign:i(64310)})},64765:function(t,e,i){"use strict";var n=i(46916),r=i(27007),s=i(19670),a=i(84488),o=i(81150),c=i(41340),u=i(58173),l=i(97651);r("search",(function(t,e,i){return[function(e){var i=a(this),r=null==e?void 0:u(e,t);return r?n(r,e,i):new RegExp(e)[t](c(i))},function(t){var n=s(this),r=c(t),a=i(e,n,r);if(a.done)return a.value;var u=n.lastIndex;o(u,0)||(n.lastIndex=0);var d=l(n,r);return o(n.lastIndex,u)||(n.lastIndex=u),null===d?-1:d.index}]}))},88857:function(t,e,i){"use strict";i.d(e,{e:function(){return s},t:function(){return r}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/artwork",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/artwork/"+t,method:"get"})}},12164:function(t,e,i){"use strict";i.d(e,{JU:function(){return s},KP:function(){return r},SZ:function(){return a}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/board",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/board",method:"post",data:t})}function a(t){return(0,n.Z)({url:"admin/board/"+t,method:"get"})}},88705:function(t,e,i){"use strict";i.d(e,{F:function(){return s},c:function(){return r}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/clothing",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/clothing/"+t,method:"get"})}},4191:function(t,e,i){"use strict";i.d(e,{Be:function(){return r},Ec:function(){return a},FD:function(){return s}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/design",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/design",method:"post",data:t})}function a(t){return(0,n.Z)({url:"admin/design/"+t,method:"get"})}},77e3:function(t,e,i){"use strict";i.d(e,{T:function(){return s},s:function(){return r}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/fish",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/fish/"+t,method:"get"})}},68782:function(t,e,i){"use strict";i.d(e,{$:function(){return r},c:function(){return s}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/fossil",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/fossil/"+t,method:"get"})}},22528:function(t,e,i){"use strict";i.d(e,{T:function(){return s},Z:function(){return r}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/furniture",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/furniture/"+t,method:"get"})}},66560:function(t,e,i){"use strict";i.d(e,{Lv:function(){return r},N1:function(){return s},q6:function(){return a}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/guide",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/guide",method:"post",data:t})}function a(t){return(0,n.Z)({url:"admin/guide/"+t,method:"get"})}},38170:function(t,e,i){"use strict";i.d(e,{B:function(){return r},a:function(){return s}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/halobios",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/halobios/"+t,method:"get"})}},55965:function(t,e,i){"use strict";i.d(e,{i:function(){return r},x:function(){return s}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/insect",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/insect/"+t,method:"get"})}},22621:function(t,e,i){"use strict";i.d(e,{Al:function(){return s},bz:function(){return r}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/islander",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/islander/"+t,method:"get"})}},48986:function(t,e,i){"use strict";i.d(e,{U:function(){return s},a:function(){return r}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/material",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/material/"+t,method:"get"})}},75415:function(t,e,i){"use strict";i.d(e,{J:function(){return s},s:function(){return r}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/plant",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/plant/"+t,method:"get"})}},79718:function(t,e,i){"use strict";i.d(e,{G:function(){return s},i:function(){return r}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/recipe",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/recipe/"+t,method:"get"})}},92014:function(t,e,i){"use strict";i.d(e,{$:function(){return r},R:function(){return s}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/tool",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/tool/"+t,method:"get"})}},98761:function(t,e,i){"use strict";i.d(e,{F9:function(){return a},Nq:function(){return s},rq:function(){return r}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/trade",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/trade",method:"post",data:t})}function a(t){return(0,n.Z)({url:"admin/trade/"+t,method:"get"})}},44848:function(t,e,i){"use strict";i.d(e,{MZ:function(){return a},UJ:function(){return r},yx:function(){return s}});var n=i(25972);function r(t){return(0,n.Z)({url:"admin/turnip",method:"get",params:t})}function s(t){return(0,n.Z)({url:"admin/turnip",method:"post",data:t})}function a(t){return(0,n.Z)({url:"admin/turnip/"+t,method:"get"})}},63180:function(t,e,i){"use strict";var n=i(10311);new(i.n(n)())},61687:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return S}});var n=i(4367),r=i(20629),s=i(81753),a=(i(92222),i(25972));function o(t,e){return(0,a.Z)({url:"comment/".concat(t),method:"post",data:e})}function c(t,e){return(0,a.Z)({url:"comment/".concat(e,"/").concat(t),method:"delete"})}var u=i(66560),l=i(12164),d=i(44848),m=i(98761),f={name:"Comment",props:{type:{type:String,default:"guide"},hint:{type:String,default:"有什么想说的，尽情留下吧"},defaultText:{type:String,default:"请输入"}},data:function(){return{valid:!1,list:[],total:0,currentPage:1,queryInfo:{page:1,pageSize:5,aid:"",query:""},comment:{aid:"",uid:"",content:""},deleteApi:c}},watch:{queryInfo:{deep:!0,handler:function(t){this.getList()}}},computed:(0,n.Z)((0,n.Z)({},(0,r.Se)(["userId","token"])),{},{isLogin:function(){return!!(0,s.n5)()},placeText:function(){return(0,s.n5)()?this.defaultText:"请先登陆后再发表评论( · ω · )"},aid:function(){return this.$route.params.id},addFun:function(){var t=null;switch(this.type){case"guide":t=u.N1;break;case"board":t=l.JU;break;case"turnip":t=d.yx;break;case"trade":t=m.Nq}return t},pageLength:function(){return parseInt(this.total/this.queryInfo.pageSize)+1}}),created:function(){this.getList()},mounted:function(){},methods:{getList:function(){var t,e,i=this;this.queryInfo.aid=this.aid,(t=this.type,e=this.queryInfo,(0,a.Z)({url:"comment/".concat(t),method:"get",params:e})).then((function(t){i.list=t.data.list,i.total=t.data.total||0}))},updatePage:function(){this.queryInfo.page=this.currentPage},addLike:function(t,e){var i=this;this.comment.aid=this.aid,this.comment.uid=this.userId,this.comment._id=t,this.comment.like=e+1,delete this.comment.content,o(this.type,this.comment).then((function(t){i.commonApi.resetForm(i),i.getList()})).catch((function(t){return $Vue.$dialogLoader.showSnackbar(t.message,{color:"error"})}))},submit:function(){var t=this;this.$refs.addForm.validate()?(this.comment.aid=this.aid,this.comment.uid=this.userId,delete this.comment._id,delete this.comment.like,o(this.type,this.comment).then((function(e){$Vue.$dialogLoader.showSnackbar(e.message,{color:"success"}),t.commonApi.resetForm(t),t.addFun({_id:t.aid,$push:{comments:e.data._id}}),t.getList()})).catch((function(t){return $Vue.$dialogLoader.showSnackbar(t.message,{color:"error"})}))):(this.valid=!1,$Vue.$dialogLoader.showSnackbar("信息有误，请重新填写！",{color:"error"}))}}},h=i(1001),p=i(43453),g=i.n(p),v=i(63150),y=i(11418),b=i(46232),_=i(96428),Z=i(97047),x=i(86325),k=i(34350),P=(0,h.Z)(f,(function(){var t=this,e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"mb-16"},[n("div",{staticClass:"mt-16 mb-2 text-h5 grey--text text--darken-3 d-flex justify-lg-space-between"},[e._v(" 评论 ")]),n("v-divider",{staticClass:"primary mb-4"}),n("v-form",{ref:"addForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-textarea",{attrs:{height:"100",hint:e.hint,placeholder:e.placeText,disabled:!e.token,filled:""},model:{value:e.comment.content,callback:function(t){e.$set(e.comment,"content",t)},expression:"comment.content"}})],1),n("div",{staticClass:"form-btns d-flex justify-lg-space-between mt-2 mx-auto"},[n("v-btn",{staticClass:"mr-4",attrs:{color:"primary",large:"",disabled:!e.token},on:{click:e.submit}},[e._v(" 提交 ")]),n("v-btn",{attrs:{color:"secondary",large:"",disabled:!e.token},on:{click:function(){return e.commonApi.resetForm(t)}}},[e._v(" 重置 ")])],1),n("div",{staticClass:"my-2 text-h5",attrs:{id:"comment-list"}},[e._v("评论列表")]),n("v-divider",{staticClass:"primary mb-4"}),n("div",{staticClass:"comment-container"},e._l(e.list,(function(t,i){return n("div",{key:t._id,staticClass:"comment-thread"},[n("div",{staticClass:"comment-post py-4"},[n("div",{staticClass:"comment-avatar"},[n("v-img",{attrs:{src:e.realUrl+t.uid.avatar,width:"50",height:"50"}})],1),n("div",{staticClass:"comment-body"},[n("div",{staticClass:"comment-user"},[n("div",{staticClass:"comment-user-name"},[n("a",[e._v(e._s(t.uid.nickname))])]),n("div",{staticClass:"reply-name",staticStyle:{display:"none"}}),n("div",{staticClass:"comment-floor"},[e._v(e._s(i+1)+"楼")])]),n("div",{staticClass:"comment-text",staticStyle:{cursor:"auto"}},[e._v(" "+e._s(t.content)+" ")]),n("div",{staticClass:"comment-footer"},[n("span",{staticClass:"comment-time"},[e._v(e._s(e._f("parseTime")(t.created_time,"{y}-{m}-{d} {h}:{i}")))]),n("span",{staticClass:"comment-like pl-4",on:{click:function(i){return e.addLike(t._id,t.like)}}},[n("v-icon",{staticClass:"mr-1",attrs:{"x-small":""}},[e._v("mdi-thumb-up")]),e._v(e._s(t.like))],1),n("span",{staticClass:"comment-report pl-4"},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-flag")]),e._v("举报")],1),t.uid._id===e.userId?n("span",{staticClass:"comment-delete pl-4",on:{click:function(){return e.commonApi.handleDelete(e.deleteApi,t._id,e.type,(function(){return e.getList()}))}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-trash")]),e._v("删除")],1):e._e()])])])])})),0),e.total>5?n("v-pagination",{attrs:{length:e.pageLength},on:{input:e.updatePage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}):e._e()],1)}),[],!1,null,"10edb3f2",null),S=P.exports;g()(P,{VBtn:v.Z,VDivider:y.Z,VForm:b.Z,VIcon:_.Z,VImg:Z.Z,VPagination:x.Z,VTextarea:k.Z})},14367:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return d}});var n={name:"BreadCrumbs",props:{breadNav:{type:Array,required:!0}}},r=i(1001),s=i(43453),a=i.n(s),o=i(50612),c=i(71601),u=i(96428),l=(0,r.Z)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"breadcrumbsBox rounded"},[i("v-breadcrumbs",{attrs:{items:t.breadNav,large:""},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return[i("v-breadcrumbs-item",{attrs:{to:n.href,disabled:n.disabled}},["/"===n.href?i("span",{staticClass:"primary--text"},[i("v-icon",{staticClass:"primary--text mr-1 mt-1 float-left"},[t._v("mdi-home")]),t._v(t._s(n.text))],1):i("span",[t._v(t._s(n.text))])])]}},{key:"divider",fn:function(){return[i("v-icon",[t._v("mdi-chevron-right")])]},proxy:!0}])})],1)}),[],!1,null,null,null),d=l.exports;a()(l,{VBreadcrumbs:o.Z,VBreadcrumbsItem:c.Z,VIcon:u.Z})},80318:function(t,e,i){"use strict";i.d(e,{Z:function(){return C}});var n=i(23796),r=i(4367),s=(i(26699),i(32023),i(38862),i(20629)),a={name:"InfoCardList",props:{type:String,typeName:String,configObj:Object,listFilters:{type:Object,default:function(){return{}}},getListApi:Function,sortKey:{type:String,default:"name"},sortVal:{type:Boolean,default:!1},disableToolbar:{type:Boolean,default:!1},disableResetBtn:{type:Boolean,default:!1},searchWidth:{type:[String,Array],default:"auto"},itemCol:{type:Object,default:function(){return{sm:6,md:4,lg:3}}},listDataProcess:Function},data:function(){return{loading:!1,total:0,list:[],query:"",filters:this.listFilters,options:{itemsPerPageArray:this.configObj.pageArray||[4,8,12],page:1,itemsPerPage:this.configObj.perPage||8},selectLists:this.configObj.selectLists}},created:function(){this.getList(),this.configObj.getOptionKeys&&this.commonApi.getOptionsByKeys(this.configObj.getOptionKeys,this)},computed:(0,r.Z)((0,r.Z)({},(0,s.Se)(["preset"])),{},{sortBy:{get:function(){return this.sortKey},set:function(t){this.$emit("update:sortKey",t)}},sortDesc:{get:function(){return this.sortVal},set:function(t){this.$emit("update:sortVal",t)}},numberOfPages:function(){return Math.ceil(this.total/this.options.itemsPerPage)}}),watch:{options:{handler:function(){this.getList()},deep:!0},filters:{handler:function(t){this.$emit("listFilters",t),this.options.page=1,this.getList()},deep:!0}},methods:{getList:function(){var t=this;this.loading=!0;var e=this.sortDesc?-1:1,i=(0,n.Z)({},this.sortBy,e);this.filters.season&&this.filters.season.includes("全年")&&(this.filters.season=[]);var s=(0,r.Z)({page:this.options.page,query:this.query||"",pageSize:this.options.itemsPerPage,sort:JSON.stringify(i)},this.filters);this.getListApi(s).then((function(e){t.list=e.data.list,t.total=e.data.total||0,t.listDataProcess&&t.listDataProcess(t.list),t.loading=!1}))},searchList:function(){this.options.page=1,this.getList()},nextPage:function(){this.options.page+1<=this.numberOfPages&&(this.options.page+=1)},formerPage:function(){this.options.page-1>=1&&(this.options.page-=1)},updateItemsPerPage:function(t){this.options.itemsPerPage=t},goDetail:function(t){this.$router.push("/detail/".concat(this.type,"/")+t._id)},clearFilters:function(){for(var t in this.filters)this.filters[t]=""}}},o=i(1001),c=i(43453),u=i.n(c),l=i(63150),d=i(47477),m=i(53237),f=i(82102),h=i(42200),p=i(96428),g=i(16816),v=i(97620),y=i(93816),b=i(76768),_=i(62877),Z=i(47032),x=i(99762),k=i(40314),P=i(36656),S=(0,o.Z)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-data-iterator",{staticClass:"mt-4",attrs:{items:t.list,loading:t.loading,options:t.options,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"server-items-length":t.total,"loading-text":t.preset.dataIterator.loadingText,"no-results-text":t.preset.dataIterator.noResultsText,"no-data-text":t.preset.noDataText,"hide-default-footer":""},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"header",fn:function(){return[t.disableToolbar?t._e():i("v-toolbar",{staticClass:"card-search mb-4",attrs:{dark:"",color:"secondary",prominent:t.configObj.prominent}},[t._l(t.configObj.filtersArr,(function(e,n){return[i("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",clearable:"",items:t.selectLists[e.key+"List"],label:e.text,placeholder:e.text,multiple:e.multiple},model:{value:t.filters[e.key],callback:function(i){t.$set(t.filters,e.key,i)},expression:"filters[filterItem.key]"}}),i("v-spacer")]})),t.disableResetBtn?t._e():i("v-btn",{attrs:{large:"",depressed:"",color:"primary"},on:{click:t.clearFilters}},[t._v(" 重置全部筛选 ")]),t.disableResetBtn||t.configObj.resetRight?t._e():i("v-spacer"),i("v-text-field",{style:{width:t.searchWidth?t.searchWidth:"auto"},attrs:{label:"搜索"+t.typeName+"名字关键字",clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify"},on:{input:t.searchList},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),t.$vuetify.breakpoint.mdAndUp?[i("v-spacer"),i("v-select",{attrs:{flat:"","hide-details":"",items:t.configObj.sortKeys,label:"按哪项排序"},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}),i("v-spacer"),i("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[i("v-btn",{attrs:{large:"",depressed:"",color:"primary",value:!1}},[i("v-icon",[t._v("mdi-arrow-up")])],1),i("v-btn",{attrs:{large:"",depressed:"",color:"primary",value:!0}},[i("v-icon",[t._v("mdi-arrow-down")])],1)],1)]:t._e()],2)]},proxy:!0},{key:"default",fn:function(e){var n=e.items;return[i("v-row",t._l(n,(function(e){return i("v-col",{key:e.name,attrs:{cols:"12",sm:t.itemCol.sm,md:t.itemCol.md,lg:t.itemCol.lg}},[i("v-card",{attrs:{to:"/detail/"+t.type+"/"+e._id}},[t._t("default",null,{item:e})],2)],1)})),1)]}},{key:"footer",fn:function(){return[i("v-row",{staticClass:"mt-4 mb-4 px-3",attrs:{align:"center",justify:"center"}},[i("span",{staticClass:"grey--text"},[t._v("每页显示")]),i("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"ml-2",attrs:{dark:"",text:"",color:"primary"}},"v-btn",r,!1),n),[t._v(" "+t._s(t.options.itemsPerPage)+" "),i("v-icon",[t._v("mdi-chevron-down")])],1)]}}])},[i("v-list",t._l(t.options.itemsPerPageArray,(function(e,n){return i("v-list-item",{key:"pageArray"+n,on:{click:function(i){return t.updateItemsPerPage(e)}}},[i("v-list-item-title",[t._v(t._s(e))])],1)})),1)],1),i("v-spacer"),i("span",{staticClass:"mr-4 grey--text"},[t._v(" 页码 "+t._s(t.options.page)+" / "+t._s(t.numberOfPages)+" ")]),t.total>t.options.itemsPerPage?i("v-btn",{staticClass:"mr-1",attrs:{fab:"",depressed:"",dark:"",color:"primary"},on:{click:t.formerPage}},[i("v-icon",[t._v("mdi-chevron-left")])],1):t._e(),t.total>t.options.itemsPerPage?i("v-btn",{staticClass:"ml-1",attrs:{fab:"",depressed:"",dark:"",color:"primary"},on:{click:t.nextPage}},[i("v-icon",[t._v("mdi-chevron-right")])],1):t._e()],1)]},proxy:!0}],null,!0)})}),[],!1,null,null,null),C=S.exports;u()(S,{VBtn:l.Z,VBtnToggle:d.Z,VCard:m.Z,VCol:f.Z,VDataIterator:h.Z,VIcon:p.Z,VList:g.Z,VListItem:v.Z,VListItemTitle:y.V9,VMenu:b.Z,VRow:_.Z,VSelect:Z.Z,VSpacer:x.Z,VTextField:k.Z,VToolbar:P.Z})},19326:function(t,e,i){"use strict";i.d(e,{Z:function(){return f}});var n=i(23796),r=i(4367),s=(i(26699),i(32023),i(38862),i(20629)),a=(i(63180),{name:"InfoDataList",props:{type:String,typeName:String,configObj:Object,query:{type:String,default:""},filters:{type:Object,default:function(){return{}}},queryParams:{type:Object,default:function(){return{}}},getListApi:Function,sortKey:{type:String|Array},sortVal:{type:Boolean|Array},listDataProcess:Function,disableDetail:{type:Boolean,default:!1}},data:function(){return{loading:!1,total:0,list:[],options:{sortBy:this.sortKey?Array.isArray(this.sortKey)?this.sortKey:new Array(this.sortKey):["name"],sortDesc:this.sortVal?Array.isArray(this.sortVal)?this.sortVal:new Array(this.sortVal):[!1]},footer:{itemsPerPageText:"每页条数",showFirstLastPage:!0,showCurrentPage:!0,itemsPerPageOptions:this.configObj.perPageArray||[10,20]}}},mounted:function(){},beforeDestroy:function(){},computed:(0,r.Z)({},(0,s.Se)(["preset"])),watch:{options:{handler:function(t){this.$emit("update:options",t),this.getList()},deep:!0},query:{handler:function(t){this.options.page=1,this.getList()},deep:!0},filters:{handler:function(t){t.season&&t.season.includes("全年")?this.$emit("update:filters",(0,r.Z)((0,r.Z)({},t),{},{season:[]})):(this.options.page=1,this.getList())},deep:!0}},methods:{getList:function(){var t=this;this.loading=!0;var e=this.options.sortDesc[0]?-1:1,i=(0,n.Z)({},this.options.sortBy[0],e),s=(0,r.Z)((0,r.Z)({page:this.options.page,query:this.query||"",pageSize:this.options.itemsPerPage,sort:JSON.stringify(i)},this.filters),this.queryParams);this.getListApi(s).then((function(e){t.list=e.data.list,t.total=e.data.total||0,t.listDataProcess&&t.listDataProcess(t.list),t.options.pageStop=Math.ceil(t.total/t.options.itemsPerPage),t.loading=!1}))},goDetail:function(t){this.disableDetail||this.$router.push("/detail/".concat(this.type,"/")+t._id)}}}),o=i(1001),c=i(43453),u=i.n(c),l=i(40865),d=i(97047),m=(0,o.Z)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.configObj.headers,items:t.list,options:t.options,"server-items-length":t.total,loading:t.loading,"loading-text":t.preset.dataIterator.loadingText,"no-results-text":t.preset.dataIterator.noResultsText,"no-data-text":t.preset.noDataText,"footer-props":t.footer},on:{"update:options":function(e){t.options=e},"click:row":t.goDetail},scopedSlots:t._u([{key:"item.photoSrc",fn:function(e){var n=e.item;return[n.photoSrc.length>0&&n.photoSrc[0].src?i("v-img",{staticClass:"mx-auto",attrs:{src:t.realUrl+n.photoSrc[0].src,height:t.configObj.itemPhotoSize||50,width:t.configObj.itemPhotoSize||50,contain:""}}):n.photoSrc.length>0&&n.photoSrc[0]?i("v-img",{staticClass:"mx-auto",attrs:{src:t.realUrl+n.photoSrc,height:t.configObj.itemPhotoSize||50,width:t.configObj.itemPhotoSize||50,contain:""}}):i("span",[t._v("未上传")])]}}])})}),[],!1,null,null,null),f=m.exports;u()(m,{VDataTable:l.Z,VImg:d.Z})},84780:function(t,e,i){"use strict";i.d(e,{Z:function(){return p}});var n=i(61687),r=i(21231),s=i(14367),a=(i(68309),i(92222),{name:"InfoDetail",props:{getDetailApi:Function,breadNav:Array,dataProcess:Function,type:String,hasInteract:Boolean,commentDefault:String},data:function(){return{id:this.$route.params.id,loading:!1,detailInfo:null,breadNavData:this.breadNav}},computed:{morePhoto:function(){return this.detailInfo.photoSrc&&this.detailInfo.photoSrc.length>1},titleText:function(){var t="";return this.detailInfo&&(this.$attrs.breadText?t=this.$attrs.breadText:this.detailInfo.name&&(t=this.detailInfo.name)),t},hasComment:function(){return this.hasInteract&&!(this.detailInfo&&this.detailInfo.comment_disabled)}},created:function(){this.getDetail()},methods:{breadNavProcess:function(){this.breadNavData.push({text:this.$attrs.breadText?this.$attrs.breadText:this.detailInfo.name,disabled:!0,href:"/detail/".concat(this.type,"/").concat(this.id)})},getDetail:function(){var t=this;this.loading=!0,this.getDetailApi(this.id).then((function(e){t.detailInfo=e.data,t.dataProcess&&t.dataProcess(t.detailInfo),t.breadNavProcess(),t.loading=!1}))}}}),o=i(1001),c=i(43453),u=i.n(c),l=i(53237),d=i(99846),m=i(90624),f=i(99762),h=(0,o.Z)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"bgWht picList",attrs:{"elevation-4":""}},[i(s.default,{attrs:{"bread-nav":t.breadNavData}}),t._t("title",null,{title:t.titleText}),t.loading?i("div",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"300px"}},[i("v-progress-circular",{attrs:{indeterminate:"",color:"#80DEEA"}})],1):i("v-card",{staticClass:"detail"},[t._t("default",null,{detailInfo:t.detailInfo,morePhoto:t.morePhoto})],2),t.hasInteract?i(r.default,{attrs:{type:t.type,title:t.detailInfo&&t.detailInfo.detail}}):t._e(),t.hasComment?i(n.default,{attrs:{type:t.type,"default-text":t.commentDefault}}):t._e(),i("v-spacer")],2)}),[],!1,null,"5af52d32",null),p=h.exports;u()(h,{VCard:l.Z,VContainer:d.Z,VProgressCircular:m.Z,VSpacer:f.Z})},21914:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return l}});var n={name:"ListHeader",props:{title:String,tips:String,hasTip:{type:Boolean,default:!1}}},r=i(1001),s=i(43453),a=i.n(s),o=i(11418),c=i(96428),u=(0,r.Z)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"my-4 text-h4 grey--text text--darken-3 d-flex justify-lg-space-between"},[t._v(" "+t._s(t.title)+" "),t._t("btn")],2),i("v-divider",{staticClass:"primary mb-4"}),t.hasTip?i("div",{staticClass:"tips cyan--text rounded px-3 py-2 mb-4 text-subtitle-2"},[i("v-icon",{staticClass:"cyan--text mr-1 float-left",attrs:{small:""}},[t._v("mdi-alarm-light")]),t._v("小提示："+t._s(t.tips)+" ")],1):t._e()],1)}),[],!1,null,"a99f5a76",null),l=u.exports;a()(u,{VDivider:o.Z,VIcon:c.Z})},83660:function(t,e,i){"use strict";i.d(e,{Z:function(){return p}}),i(74916),i(64765),i(63180);var n={name:"ListToolbar",props:{typeName:String,configObj:Object,search:String,listFilters:{type:Object,default:function(){return{}}},sortKey:{type:String,default:"name"},sortVal:{type:Boolean,default:!1},disableSortBtn:{type:Boolean,default:!1},disableResetBtn:{type:Boolean,default:!1},searchWidth:{type:[String,Array],default:"auto"}},data:function(){return{filters:this.listFilters,selectLists:this.configObj.selectLists}},created:function(){this.configObj.getOptionKeys&&this.commonApi.getOptionsByKeys(this.configObj.getOptionKeys,this)},computed:{sortBy:{get:function(){return this.sortKey},set:function(t){this.$emit("update:sortKey",t)}},sortDesc:{get:function(){return this.sortVal},set:function(t){this.$emit("update:sortVal",t)}},query:{get:function(){return this.search},set:function(t){this.$emit("update:search",t)}}},watch:{filters:{handler:function(t){this.$emit("update:listFilters",t)},deep:!0}},methods:{clearFilters:function(){for(var t in this.filters)this.filters[t]=""}}},r=i(1001),s=i(43453),a=i.n(s),o=i(63150),c=i(47477),u=i(96428),l=i(47032),d=i(99762),m=i(40314),f=i(36656),h=(0,r.Z)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-toolbar",{staticClass:"card-search mb-4",attrs:{dark:"",color:"secondary",prominent:t.configObj.prominent}},[t._l(t.configObj.filtersArr,(function(e,n){return[i("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",clearable:"",items:t.selectLists[e.key+"List"],label:e.text,placeholder:e.text,multiple:e.multiple},model:{value:t.filters[e.key],callback:function(i){t.$set(t.filters,e.key,i)},expression:"filters[filterItem.key]"}}),i("v-spacer")]})),t.disableResetBtn?t._e():i("v-btn",{attrs:{large:"",depressed:"",color:"primary"},on:{click:t.clearFilters}},[t._v(" 重置全部筛选 ")]),t.disableResetBtn||t.configObj.resetRight?t._e():i("v-spacer"),i("v-text-field",{style:{width:t.searchWidth?t.searchWidth:"auto"},attrs:{label:"搜索"+t.typeName+"名字关键字",clearable:"","solo-inverted":!t.disableSortBtn,"hide-details":"","prepend-inner-icon":"mdi-magnify"},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),!t.disableSortBtn&&t.$vuetify.breakpoint.mdAndUp?[i("v-spacer"),i("v-select",{attrs:{flat:"","hide-details":"",items:t.configObj.sortKeys,label:"按哪项排序"},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}),i("v-spacer"),i("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[i("v-btn",{attrs:{large:"",depressed:"",color:"primary",value:!1}},[i("v-icon",[t._v("mdi-arrow-up")])],1),i("v-btn",{attrs:{large:"",depressed:"",color:"primary",value:!0}},[i("v-icon",[t._v("mdi-arrow-down")])],1)],1)]:t._e()],2)}),[],!1,null,null,null),p=h.exports;a()(h,{VBtn:o.Z,VBtnToggle:c.Z,VIcon:u.Z,VSelect:l.Z,VSpacer:d.Z,VTextField:m.Z,VToolbar:f.Z})},21231:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return b}});var n=i(16198),r=i(4367),s=(i(35666),i(26699),i(32023),i(92222),i(57327),i(41539),i(20629)),a=i(81753),o=i(16165),c=i(66560),u=i(12164),l=i(44848),d=i(98761),m=i(72217),f={name:"Operation",props:{type:{type:String,default:"guide"},title:{type:String,default:""}},data:function(){return{valid:!1,likes:[],comments:[],favorites:[]}},watch:{},computed:(0,r.Z)((0,r.Z)({},(0,s.Se)(["userId"])),{},{isLogin:function(){return!!(0,a.n5)()},aid:function(){return this.$route.params.id},isLike:function(){return this.isLogin&&this.likes.includes(this.userId)},routePath:function(){return"/detail/".concat(this.type,"/").concat(this.aid)},isFavorite:function(){var t=this;return this.favorites.filter((function(e){return e.path===t.routePath})).length>=1},getFuns:function(){var t=null,e=null;switch(this.type){case"guide":t=c.q6,e=c.N1;break;case"board":t=u.SZ,e=u.JU;break;case"turnip":t=l.MZ,e=l.yx;break;case"trade":t=d.F9,e=d.Nq}return{getFun:t,addFun:e}}}),created:function(){this.getUserFavorites(),this.getDetail()},mounted:function(){},methods:{getUserFavorites:function(){var t=this;this.isLogin&&(0,o.PR)(this.userId).then((function(e){t.favorites=e.data.favorites||[]}))},getDetail:function(){var t=this;this.getFuns.getFun(this.aid).then((function(e){var i=e.data,n=i.comments,r=i.likes;t.comments=n||[],t.likes=r||[]}))},goAnchor:function(t){document.querySelector("#"+t).scrollIntoView()},goLogin:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$Vue.$confirm("提示","需要先登录",{color:"warning",agreeText:"去登录"});case 2:if(!e.sent){e.next=4;break}t.$router.push("/login");case 4:case"end":return e.stop()}}),e)})))()},addLike:function(){var t=this;if(this.isLogin){var e={_id:this.aid};this.isLike?e.$pull={likes:this.userId}:e.$addToSet={likes:this.userId},this.getFuns.addFun(e).then((function(e){return t.getDetail()}))}else this.goLogin()},addFavorite:function(){var t=this;if(!this.isLogin)return this.goLogin();var e={},i=(0,m.DN)(this.title,30);this.isFavorite?e.$pull={favorites:{title:i,path:this.routePath}}:e.$addToSet={favorites:{title:i,path:this.routePath}},(0,o.uz)(this.userId,e).then((function(e){t.getUserFavorites(),t.getDetail()}))}}},h=i(1001),p=i(43453),g=i.n(p),v=i(96428),y=(0,h.Z)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-btns d-flex justify-lg-space-between mx-auto my-16"},["guide"===t.type||"board"===t.type?i("span",{class:t.isLike?"activeColor":"",on:{click:t.addLike}},[i("v-icon",{staticClass:"mr-1",attrs:{medium:"",color:t.isLike?"#00bcd4":""}},[t._v("mdi-thumb-up-outline")]),t._v(t._s(t.likes?t.likes.length:"0")+" ")],1):t._e(),i("span",{on:{click:function(e){return t.goAnchor("comment-list")}}},[i("v-icon",{staticClass:"mr-1",attrs:{medium:""}},[t._v("mdi-comment-text-outline")]),t._v(" "+t._s(t.comments?t.comments.length:"0")+" ")],1),i("span",{on:{click:t.addFavorite}},[i("v-icon",{staticClass:"mr-1",attrs:{medium:"",color:t.isFavorite?"#00bcd4":""}},[t._v("mdi-star-outline")])],1),i("span",[i("v-icon",{staticClass:"mr-1",attrs:{medium:""}},[t._v("mdi-share-variant-outline")])],1)])}),[],!1,null,"7e4f041d",null),b=y.exports;g()(y,{VIcon:v.Z})},42284:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var n=i(53761),r=i(96060),s=i(45591),a=i(64411),o=i(80100),c={mixins:[n.Z,a.Z],components:{TimePickerPanel:r.Z,RangeTimePickerPanel:s.Z},props:{type:{validator:t=>(0,o.kw)(t,["time","timerange"]),default:"time"}},computed:{panel(){return"timerange"===this.type?"RangeTimePickerPanel":"TimePickerPanel"},ownPickerProps(){return{disabledHours:this.disabledHours,disabledMinutes:this.disabledMinutes,disabledSeconds:this.disabledSeconds,hideDisabledOptions:this.hideDisabledOptions}}},watch:{visible(t){t&&this.$nextTick((()=>{(0,o.Hj)(this,"TimeSpinner").forEach((t=>t.updateScroll()))}))}}}}}]);